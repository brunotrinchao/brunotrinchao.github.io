{"remainingRequest":"/Users/brunotrinchao/Documents/bruno/bahia_meta/node_modules/babel-loader/lib/index.js!/Users/brunotrinchao/Documents/bruno/bahia_meta/node_modules/eslint-loader/index.js??ref--13-0!/Users/brunotrinchao/Documents/bruno/bahia_meta/src/components/bloco/bloco.js?vue&type=script&lang=js&","dependencies":[{"path":"/Users/brunotrinchao/Documents/bruno/bahia_meta/src/components/bloco/bloco.js","mtime":1599135357614},{"path":"/Users/brunotrinchao/Documents/bruno/bahia_meta/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brunotrinchao/Documents/bruno/bahia_meta/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/brunotrinchao/Documents/bruno/bahia_meta/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2JydW5vdHJpbmNoYW8vRG9jdW1lbnRzL2JydW5vL2JhaGlhX21ldGEvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCBDaGFydCBmcm9tICcuLi9jaGFydCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQmxvY28nLAogIGNvbXBvbmVudHM6IHsKICAgIENoYXJ0OiBDaGFydAogIH0sCiAgcHJvcHM6IHsKICAgIGl0ZW5zOiBBcnJheSwKICAgIGlkOiBOdW1iZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtZXRhOiAwLAogICAgICBwb250b3M6IDAsCiAgICAgIGJhaGlhOiAxNzc3LAogICAgICBwZXJjZW50YWdlbTogMCwKICAgICAgdGV4dG9CbG9jbzogJycsCiAgICAgIHdpZHRoQ2hhcnQ6IDEyNQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7fSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLm1ldGEgPSB0aGlzLml0ZW5zLmxlbmd0aCA+IDIgPyA5IDogdGhpcy5pdGVucy5sZW5ndGggKiAzOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMucGVyY2VudGFnZW0gPSB0aGlzLmNhbGN1bGFEZXNlbXBlbmhvKCk7CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKHsKICAgIGdldEltZzogZnVuY3Rpb24gZ2V0SW1nKGlkKSB7CiAgICAgIHJldHVybiByZXF1aXJlKCdAL2Fzc2V0cy9pbWcvJyArIGlkICsgJy5wbmcnKTsKICAgIH0sCiAgICBjYWxjdWxhUG9udG9zOiBmdW5jdGlvbiBjYWxjdWxhUG9udG9zKGl0ZW0pIHsKICAgICAgdmFyIHZlbmNlZG9yID0gaXRlbS5zY29yZS53aW5uZXI7CiAgICAgIHZhciBlbUNhc2EgPSBpdGVtLmhvbWVUZWFtLmlkOwogICAgICB2YXIgcmV0ID0gJyc7CgogICAgICBpZiAodmVuY2Vkb3IpIHsKICAgICAgICByZXQgPSAnPHAgY2xhc3M9InBvbnRvIHRleHQtc2VjdW5kYXJ5Ij4wPC9wPic7CgogICAgICAgIGlmIChlbUNhc2EgPT09IHRoaXMuYmFoaWEgJiYgdmVuY2Vkb3IgPT09ICdIT01FX1RFQU0nIHx8IGVtQ2FzYSAhPT0gdGhpcy5iYWhpYSAmJiB2ZW5jZWRvciA9PT0gJ0FXQVlfVEVBTScpIHsKICAgICAgICAgIHJldCA9ICc8cCBjbGFzcz0icG9udG8gdGV4dC1zdWNjZXNzIj4rMzwvcD4nOwogICAgICAgIH0KCiAgICAgICAgaWYgKHZlbmNlZG9yID09PSAnRFJBVycpIHsKICAgICAgICAgIHJldCA9ICc8cCBjbGFzcz0icG9udG8gdGV4dC13YXJuaW5nIj4rMTwvcD4nOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHJldDsKICAgIH0sCiAgICBjYWxjdWxhRGVzZW1wZW5obzogZnVuY3Rpb24gY2FsY3VsYURlc2VtcGVuaG8oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgdHJpdW5mb3MgPSB0aGlzLml0ZW5zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHZhciB2ZW5jZWRvciA9IGl0ZW0uc2NvcmUud2lubmVyOwogICAgICAgIHZhciBlbUNhc2EgPSBpdGVtLmhvbWVUZWFtLmlkOwogICAgICAgIHJldHVybiBlbUNhc2EgPT09IF90aGlzLmJhaGlhICYmIHZlbmNlZG9yID09PSAnSE9NRV9URUFNJyB8fCBlbUNhc2EgIT09IF90aGlzLmJhaGlhICYmIHZlbmNlZG9yID09PSAnQVdBWV9URUFNJzsKICAgICAgfSk7CiAgICAgIHZhciBlbXBhdGVzID0gdGhpcy5pdGVucy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICB2YXIgdmVuY2Vkb3IgPSBpdGVtLnNjb3JlLndpbm5lcjsKICAgICAgICByZXR1cm4gdmVuY2Vkb3IgPT09ICdEUkFXJzsKICAgICAgfSk7CiAgICAgIHZhciBqb2dvcyA9IHRoaXMuaXRlbnMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgdmFyIHZlbmNlZG9yID0gaXRlbS5zY29yZS53aW5uZXI7CiAgICAgICAgcmV0dXJuIHZlbmNlZG9yOwogICAgICB9KTsKICAgICAgdGhpcy5zZXRUcml1bmZvcyh0cml1bmZvcy5sZW5ndGgpOwogICAgICB0aGlzLnNldEVtcGF0ZXMoZW1wYXRlcy5sZW5ndGgpOwogICAgICB2YXIgdHJpdW5mb3NDYWxjID0gdHJpdW5mb3MubGVuZ3RoICogMzsKICAgICAgdGhpcy5wb250b3MgPSB0cml1bmZvc0NhbGMgKyBlbXBhdGVzLmxlbmd0aDsKICAgICAgdGhpcy5zZXRQb250b3ModGhpcy5wb250b3MpOwogICAgICB2YXIgc1BvbnRvID0gdGhpcy5wb250b3MgPiAxID8gJ3MnIDogJyc7CiAgICAgIHZhciBzUG9udG9DYWwgPSB0aGlzLm1ldGEgLSB0aGlzLnBvbnRvcyA+IDEgPyAncycgOiAnJzsKICAgICAgdmFyIHBjdCA9IE1hdGgucm91bmQodGhpcy5wb250b3MgKiAxMDAgLyB0aGlzLm1ldGEpOwogICAgICB2YXIgbWV0YUZhbHRhbSA9IHRoaXMubWV0YSAtIHRoaXMucG9udG9zID4gMCA/ICI8c3BhbiBjbGFzcz1cInRleHQtZGFuZ2VyXCI+Ii5jb25jYXQodGhpcy5tZXRhIC0gdGhpcy5wb250b3MsICIgcG9udG8iKS5jb25jYXQoc1BvbnRvQ2FsLCAiPC9zcGFuPiIpIDogJy0nOwogICAgICB0aGlzLnRleHRvQmxvY28gPSAiXG4gICAgICA8c21hbGw+PGI+RGlzcHV0YWRvczo8L2I+ICIuY29uY2F0KGpvZ29zLmxlbmd0aCAqIDMsICIgcG9udG9zPC9zbWFsbD48YnIvPlxuICAgICAgPHNtYWxsPjxiPkdhbmhvczo8L2I+ICIpLmNvbmNhdCh0aGlzLnBvbnRvcywgIiBwb250byIpLmNvbmNhdChzUG9udG8sICIgKCIpLmNvbmNhdChwY3QsICIlKTwvc21hbGw+PGJyLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD48Yj5NZXRhOjwvYj4gIikuY29uY2F0KHRoaXMubWV0YSwgIiBwb250b3M8L3NtYWxsPjxici8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+PGI+RmFsdGFtOjwvYj4gIikuY29uY2F0KG1ldGFGYWx0YW0sICI8L3NtYWxsPiIpOwogICAgICByZXR1cm4gcGN0OwogICAgfQogIH0sIG1hcEFjdGlvbnMoWydzZXRQb250b3MnLCAnc2V0VHJpdW5mb3MnLCAnc2V0RW1wYXRlcyddKSkKfTs="},{"version":3,"sources":["/Users/brunotrinchao/Documents/bruno/bahia_meta/src/components/bloco/bloco.js"],"names":["mapActions","Chart","name","components","props","itens","Array","id","Number","data","meta","pontos","bahia","percentagem","textoBloco","widthChart","computed","beforeMount","length","mounted","calculaDesempenho","methods","getImg","require","calculaPontos","item","vencedor","score","winner","emCasa","homeTeam","ret","triunfos","filter","empates","jogos","setTriunfos","setEmpates","triunfosCalc","setPontos","sPonto","sPontoCal","pct","Math","round","metaFaltam"],"mappings":"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","sourcesContent":["import { mapActions } from 'vuex';\nimport Chart from '../chart';\n\nexport default {\n  name: 'Bloco',\n  components: {\n    Chart\n  },\n  props: {\n    itens: Array,\n    id: Number\n  },\n  data() {\n    return {\n      meta: 0,\n      pontos: 0,\n      bahia: 1777,\n      percentagem: 0,\n      textoBloco: '',\n      widthChart: 125\n    };\n  },\n  computed: {},\n  beforeMount() {\n    this.meta = this.itens.length > 2 ? 9 : this.itens.length * 3;\n  },\n  mounted() {\n    this.percentagem = this.calculaDesempenho();\n  },\n  methods: {\n    getImg(id) {\n      return require('@/assets/img/' + id + '.png');\n    },\n    calculaPontos(item) {\n      const vencedor = item.score.winner;\n      const emCasa = item.homeTeam.id;\n      let ret = '';\n      if (vencedor) {\n        ret = '<p class=\"ponto text-secundary\">0</p>';\n        if (\n          (emCasa === this.bahia && vencedor === 'HOME_TEAM') ||\n          (emCasa !== this.bahia && vencedor === 'AWAY_TEAM')\n        ) {\n          ret = '<p class=\"ponto text-success\">+3</p>';\n        }\n        if (vencedor === 'DRAW') {\n          ret = '<p class=\"ponto text-warning\">+1</p>';\n        }\n      }\n      return ret;\n    },\n    calculaDesempenho() {\n      let triunfos = this.itens.filter(item => {\n        const vencedor = item.score.winner;\n        const emCasa = item.homeTeam.id;\n\n        return (\n          (emCasa === this.bahia && vencedor === 'HOME_TEAM') ||\n          (emCasa !== this.bahia && vencedor === 'AWAY_TEAM')\n        );\n      });\n      let empates = this.itens.filter(item => {\n        const vencedor = item.score.winner;\n\n        return vencedor === 'DRAW';\n      });\n\n      let jogos = this.itens.filter(item => {\n        const vencedor = item.score.winner;\n\n        return vencedor;\n      });\n\n      this.setTriunfos(triunfos.length);\n      this.setEmpates(empates.length);\n\n      let triunfosCalc = triunfos.length * 3;\n      this.pontos = triunfosCalc + empates.length;\n      this.setPontos(this.pontos);\n      let sPonto = this.pontos > 1 ? 's' : '';\n      let sPontoCal = this.meta - this.pontos > 1 ? 's' : '';\n\n      let pct = Math.round((this.pontos * 100) / this.meta);\n\n      let metaFaltam =\n        this.meta - this.pontos > 0\n          ? `<span class=\"text-danger\">${this.meta - this.pontos} ponto${sPontoCal}</span>`\n          : '-';\n\n      this.textoBloco = `\n      <small><b>Disputados:</b> ${jogos.length * 3} pontos</small><br/>\n      <small><b>Ganhos:</b> ${this.pontos} ponto${sPonto} (${pct}%)</small><br/>\n                        <small><b>Meta:</b> ${this.meta} pontos</small><br/>\n                        <small><b>Faltam:</b> ${metaFaltam}</small>`;\n\n      return pct;\n    },\n\n    ...mapActions(['setPontos', 'setTriunfos', 'setEmpates'])\n  }\n};\n"]}]}